{% extends "layout.html" %}
{% block title %}Create Tournament - Charter Pool{% endblock %}
{% block content %}
<div class="admin-container">
  <h2>Create New Tournament</h2>
  
  <form method="POST" action="{{ url_for('admin_create_tournament') }}" class="admin-form">
    {{ csrf_token() }}
    <div class="form-group">
      <label for="name">Tournament Name</label>
      <input type="text" id="name" name="name" required placeholder="e.g., Spring 2024 Championship">
    </div>
    
    <div class="form-group">
      <label for="format">Tournament Format</label>
      <select id="format" name="format" required>
        <option value="">Select format...</option>
        <option value="single_elim">Single Elimination</option>
        <option value="double_elim">Double Elimination</option>
        <option value="round_robin">Round Robin</option>
      </select>
      <div class="format-descriptions">
        <p class="format-desc" data-format="single_elim">
          <strong>Single Elimination:</strong> Lose once and you're out. Fast and exciting!
        </p>
        <p class="format-desc" data-format="double_elim">
          <strong>Double Elimination:</strong> Everyone gets a second chance. Winners and losers brackets.
        </p>
        <p class="format-desc" data-format="round_robin">
          <strong>Round Robin:</strong> Everyone plays everyone else. Most comprehensive.
        </p>
      </div>
    </div>
    
    <div class="form-actions">
      <button type="submit" class="btn btn-primary">Create Tournament</button>
      <a href="{{ url_for('tournaments') }}" class="btn btn-secondary">Cancel</a>
    </div>
  </form>
</div>

<script>
document.getElementById('format').addEventListener('change', (e) => {
  const descs = document.querySelectorAll('.format-desc');
  descs.forEach(desc => desc.style.display = 'none');
  
  const selected = e.target.value;
  if (selected) {
    const desc = document.querySelector(`[data-format="${selected}"]`);
    if (desc) desc.style.display = 'block';
  }
});
</script>
{% endblock %}

